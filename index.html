<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ronin Fantasy Predictor - Predict game outcomes, place bets, and mint NFTs on the Ronin Network.">
    <title>Ronin Fantasy Predictor</title>
  
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/ethers@5/dist/ethers.umd.min.js"></script>
  
    <style>
        /* ================================================ */
        /* TAILWIND & THEME MAPPING - MATCHING PUBLISHED SITE */
        /* ================================================ */
        :root {
            --primary: #58A6FF;
            --background: #0a0e17;
            --card: #0d121d;
            --accent: #00ffff;
            --muted: #8b949e;
            --foreground: #f0f6fc;
            --border: rgba(88, 166, 255, 0.2);
            --radius: 0.5rem;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        html {
            scroll-behavior: smooth;
            font-size: 16px;
            line-height: 1.5;
            width: 100%;
            height: 100%;
        }
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: var(--background);
            color: var(--foreground);
            background-image:
                linear-gradient(to bottom, rgba(10, 14, 23, 0.9), rgba(10, 14, 23, 0.95)),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2358A6FF' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            background-attachment: fixed;
            min-height: 100vh;
            width: 100%;
            overflow-x: hidden;
            position: relative;
        }
        h1, h2, h3, h4 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: white;
        }
        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        .neon-text {
            text-shadow: 0 0 10px rgba(88, 166, 255, 0.5), 0 0 20px rgba(88, 166, 255, 0.3);
        }
        .cyber-card {
            background: rgba(13, 18, 29, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .cyber-card:hover {
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(88, 166, 255, 0.15);
            transform: translateY(-4px);
        }
        .cyber-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: var(--primary);
            color: var(--background);
            font-weight: 800;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            cursor: pointer;
            transition: all 0.3s ease;
            clip-path: polygon(12px 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%, 0 12px);
            border: none;
            font-size: 0.9rem;
            text-align: center;
        }
        .cyber-button:hover {
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0 var(--accent);
            background: #4693f0;
        }
        .cyber-button:active { transform: translate(0,0); box-shadow: none; }
        .cyber-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        header {
            height: 90px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--border);
            background: rgba(10, 14, 23, 0.8);
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
        }
        .header-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo { display: flex; align-items: center; gap: 1rem; text-decoration: none; cursor: pointer; }
        .logo-box {
            width: 48px; height: 48px; border: 1px solid var(--primary);
            display: flex; align-items: center; justify-content: center;
            background: rgba(88, 166, 255, 0.1); border-radius: 8px;
        }
        .logo-text { display: flex; flex-direction: column; }
        .logo-title { font-weight: 900; font-size: 1.5rem; color: white; line-height: 1; }
        .logo-subtitle { font-size: 0.75rem; color: var(--primary); letter-spacing: 0.3em; font-weight: bold; text-transform: uppercase; }
        .wallet-pill {
            display: flex; align-items: center; gap: 0.75rem;
            padding: 0.6rem 1.25rem; border: 1px solid rgba(88, 166, 255, 0.4);
            border-radius: 99px; background: rgba(88, 166, 255, 0.05);
            font-family: 'Inter', monospace; color: var(--primary); cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .wallet-pill:hover { background: rgba(88, 166, 255, 0.1); border-color: var(--primary); }
        .wallet-status { width: 10px; height: 10px; background: #22c55e; border-radius: 50%; box-shadow: 0 0 10px #22c55e; animation: pulse 2s infinite; }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .hero { padding: 10rem 0; position: relative; overflow: hidden; }
        .hero-glow {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 1000px; height: 1000px; background: radial-gradient(circle, rgba(88, 166, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }
        .hero h1 { font-size: 6rem; font-weight: 900; line-height: 0.85; margin-bottom: 2rem; letter-spacing: -0.02em; }
        .hero .accent-text { color: var(--primary); }
        .hero p {
            max-width: 600px; border-left: 5px solid var(--primary);
            padding-left: 2rem; font-size: 1.5rem; color: var(--muted);
            margin-bottom: 3.5rem; line-height: 1.5;
        }
        .stats-bar { border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.3); padding: 2.5rem 0; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 3rem; }
        .stat-item { display: flex; align-items: center; gap: 1.5rem; }
        .stat-icon { width: 60px; height: 60px; background: rgba(88, 166, 255, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.5rem; }
        .stat-value { font-size: 2rem; font-weight: 800; line-height: 1; color: white; margin-bottom: 0.25rem; }
        .stat-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.25em; color: var(--muted); font-weight: 700; }
        .section-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4rem; margin-top: 8rem; }
        .grid-matches { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; }
      
        .match-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.3rem 0.8rem; border-radius: 4px; font-size: 0.75rem;
            font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em;
        }
        .badge-live { background: rgba(0, 255, 255, 0.1); color: var(--accent); border: 1px solid var(--accent); }
        .badge-upcoming { background: rgba(255,255,255,0.05); color: var(--muted); border: 1px solid rgba(255,255,255,0.1); }
        .vs-container { display: flex; align-items: center; justify-content: space-between; margin: 2.5rem 0; gap: 1rem; }
        .team-box {
            flex: 1; text-align: center; padding: 1.5rem; border: 1px solid rgba(255,255,255,0.05);
            border-radius: 12px; background: rgba(255,255,255,0.02); cursor: pointer; transition: 0.3s ease;
        }
        .team-box:hover { border-color: var(--primary); background: rgba(88,166,255,0.08); transform: scale(1.02); }
        .team-box.selected { border-color: var(--primary); background: rgba(88,166,255,0.2); box-shadow: 0 0 20px rgba(88,166,255,0.3); }
        .team-name { font-weight: 800; font-size: 1.25rem; color: white; }
        .vs-text { font-weight: 900; color: var(--muted); font-size: 0.9rem; font-family: 'Orbitron', sans-serif; opacity: 0.5; }
        .nft-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-top: 2rem; }
        .nft-card {
            aspect-ratio: 3/4.5; border-radius: 16px; padding: 2rem;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 2px solid; position: relative; text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .nft-card:hover { transform: translateY(-10px) rotateY(10deg); }
      
        .nft-gold { background: linear-gradient(135deg, rgba(234,179,8,0.25), rgba(234,179,8,0.05)); border-color: rgba(234,179,8,0.6); box-shadow: 0 0 30px rgba(234,179,8,0.15); }
        .nft-bronze { background: linear-gradient(135deg, rgba(194,65,12,0.25), rgba(194,65,12,0.05)); border-color: rgba(194,65,12,0.6); box-shadow: 0 0 30px rgba(194,65,12,0.15); }
      
        .nft-icon-circle {
            width: 100px; height: 100px; border-radius: 50%; border: 4px solid;
            display: flex; align-items: center; justify-content: center; margin-bottom: 2rem;
            font-size: 2.5rem;
        }
        .nft-gold .nft-icon-circle { border-color: #eab308; color: #eab308; background: rgba(234,179,8,0.1); box-shadow: inset 0 0 20px rgba(234,179,8,0.2); }
        .nft-bronze .nft-icon-circle { border-color: #c2410c; color: #c2410c; background: rgba(194,65,12,0.1); box-shadow: inset 0 0 20px rgba(194,65,12,0.2); }
      
        .nft-title { font-size: 2rem; font-weight: 900; margin-bottom: 0.5rem; font-family: 'Orbitron', sans-serif; }
        .nft-gold .nft-title { color: #eab308; text-shadow: 0 0 15px rgba(234,179,8,0.4); }
        .nft-bronze .nft-title { color: #c2410c; text-shadow: 0 0 15px rgba(194,65,12,0.4); }
      
        #notif {
            position: fixed; bottom: 3rem; right: 3rem; z-index: 2000;
            padding: 1.25rem 2.5rem; border-radius: 12px; color: white;
            font-weight: 800; transform: translateX(250%); transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            backdrop-filter: blur(20px);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        #notif.show { transform: translateX(0); }
        #notif.success { background: linear-gradient(90deg, #22c55e, #15803d); border-left: 6px solid #000; border: 1px solid rgba(34, 197, 94, 0.3); }
        #notif.error { background: linear-gradient(90deg, #ef4444, #b91c1c); border-left: 6px solid #000; border: 1px solid rgba(239, 68, 68, 0.3); }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }
        @media (max-width: 1280px) {
            .hero h1 { font-size: 5rem; }
            .grid-matches { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 1024px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); gap: 2rem; }
            .hero h1 { font-size: 4rem; }
            .hero p { font-size: 1.25rem; }
        }
        @media (max-width: 768px) {
            header { height: 80px; }
            .hero { padding: 8rem 0; }
            .hero h1 { font-size: 3.5rem; }
            .grid-matches, .nft-grid { grid-template-columns: 1fr; }
            nav { display: none; }
            .logo-title { font-size: 1.25rem; }
            .stat-value { font-size: 1.5rem; }
            .section-header { flex-direction: column; align-items: flex-start; gap: 1.5rem; }
        }
        /* Roadmap specific styles (same theme) */
        .roadmap-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        .roadmap-phase {
            background: rgba(13, 18, 29, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }
        .roadmap-phase:hover {
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(88, 166, 255, 0.15);
            transform: translateY(-8px);
        }
        .phase-number {
            position: absolute;
            top: -1.5rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: var(--background);
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 900;
            font-family: 'Orbitron', sans-serif;
            box-shadow: 0 0 20px rgba(88, 166, 255, 0.5);
        }
        .phase-status {
            font-size: 0.9rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }
        .phase-live { color: var(--accent); }
        .phase-upcoming { color: var(--muted); }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="/" class="logo">
                <div class="logo-box"><i class="fas fa-trophy" style="color: var(--primary);"></i></div>
                <div class="logo-text">
                    <span class="logo-title neon-text">RONIN</span>
                    <span class="logo-subtitle">Predictor</span>
                </div>
            </a>
          
            <nav style="display: flex; gap: 3rem;">
                <a href="#" style="font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.15em; color: white; opacity: 0.8; transition: 0.3s;">Dashboard</a>
                <a href="#matches" style="font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.15em; color: white; opacity: 0.8; transition: 0.3s;">Matches</a>
                <a href="#nfts" style="font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.15em; color: white; opacity: 0.8; transition: 0.3s;">NFT Badges</a>
                <a href="#roadmap" style="font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.15em; color: white; opacity: 0.8; transition: 0.3s;">Roadmap</a>
            </nav>
            <div id="wallet-section">
                <button onclick="connect()" id="connect-btn" class="cyber-button">Connect Wallet</button>
            </div>
        </div>
    </header>
    <main>
        <!-- HERO -->
        <section class="hero">
            <div class="hero-glow"></div>
            <div class="container">
                <h1 class="neon-text"><span class="accent-text">PREDICT</span> <br> THE META</h1>
                <p>Join the next generation of fantasy leagues on Ronin. Predict outcomes for Pixels, Axie, and more. Win big and mint your glory.</p>
                <div style="display: flex; gap: 1.5rem;">
                    <button onclick="document.getElementById('matches').scrollIntoView({behavior:'smooth'})" class="cyber-button">Start Predicting</button>
                    <button class="cyber-button" style="background: transparent; border: 1px solid var(--primary); color: var(--primary);">Leaderboard</button>
                </div>
            </div>
        </section>
        <!-- STATS -->
        <div class="stats-bar">
            <div class="container stats-grid">
                <div class="stat-item">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div><div class="stat-value">12,405</div><div class="stat-label">Active Players</div></div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon"><i class="fas fa-bolt"></i></div>
                    <div><div class="stat-value">84,392</div><div class="stat-label">Total Bets</div></div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon"><i class="fas fa-coins"></i></div>
                    <div><div class="stat-value">50,000</div><div class="stat-label">RON Rewards</div></div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon"><i class="fas fa-shield-alt"></i></div>
                    <div><div class="stat-value">3,210</div><div class="stat-label">Badges Minted</div></div>
                </div>
            </div>
        </div>
        <!-- MATCHES -->
        <section id="matches" class="container" style="padding: 10rem 0;">
            <div class="section-header">
                <div>
                    <h2 class="neon-text" style="font-size: 4rem; line-height: 1;">Live & Upcoming</h2>
                    <p style="color: var(--muted); margin-top: 1rem; font-size: 1.25rem; font-weight: 500;">Predict game outcomes to win massive RON rewards.</p>
                </div>
                <div style="display: flex; gap: 0.75rem;">
                    <button class="cyber-button" style="padding: 0.6rem 1.5rem; background: rgba(88,166,255,0.2); color: var(--primary);">All Games</button>
                    <button class="cyber-button" style="padding: 0.6rem 1.5rem; background: transparent; border: 1px solid var(--border); color: var(--muted);">Pixels</button>
                    <button class="cyber-button" style="padding: 0.6rem 1.5rem; background: transparent; border: 1px solid var(--border); color: var(--muted);">Axie</button>
                </div>
            </div>
            <div id="matches-container" class="grid-matches">
                <!-- Demo matches injected here -->
            </div>
        </section>
        <!-- NFTS -->
        <section id="nfts" class="container" style="padding: 10rem 0; border-top: 1px solid var(--border);">
            <div style="display: flex; gap: 6rem; align-items: flex-start; flex-wrap: wrap;">
                <div style="flex: 1.5; min-width: 300px;">
                    <h2 class="neon-text" style="font-size: 4rem; margin-bottom: 2.5rem; line-height: 1;">Mastery Badges</h2>
                    <p style="color: var(--muted); font-size: 1.5rem; margin-bottom: 4rem; line-height: 1.6;">Proof of your prediction legacy. Mint exclusive NFT badges on Ronin to unlock permanent perks and elite status.</p>
                  
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
                        <div class="cyber-card">
                            <h3 style="color: #ea580c; margin-bottom: 1rem; font-size: 1.75rem;">Bronze Tier</h3>
                            <p style="font-size: 1rem; color: var(--muted); margin-bottom: 3rem; line-height: 1.5;">The initiate's mark. Prove your presence and track your first wins.</p>
                            <button onclick="mint('Bronze')" class="cyber-button" style="width: 100%; background: transparent; border: 2px solid #ea580c; color: #ea580c;">Mint Free</button>
                        </div>
                        <div class="cyber-card" style="border-color: #eab308; border-width: 2px;">
                            <div style="position: absolute; top: 0; right: 0; background: #eab308; color: black; font-size: 0.75rem; font-weight: 900; padding: 6px 16px; font-family: 'Orbitron', sans-serif;">ELITE</div>
                            <h3 style="color: #eab308; margin-bottom: 1rem; font-size: 1.75rem;">Gold Tier</h3>
                            <p style="font-size: 1rem; color: var(--muted); margin-bottom: 3rem; line-height: 1.5;">Legendary status. Grants elite perks on every correct prediction.</p>
                            <button onclick="mint('Gold')" class="cyber-button" style="width: 100%; background: #eab308; color: black;">Mint (1000 RON)</button>
                        </div>
                    </div>
                </div>
                <div style="flex: 1; min-width: 300px;">
                    <h4 style="color: var(--muted); margin-bottom: 2rem; font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.3em;">Collector's Vault</h4>
                    <div id="my-nfts" class="nft-grid">
                        <div style="grid-column: 1/-1; padding: 6rem; border: 3px dashed rgba(88,166,255,0.05); border-radius: 20px; text-align: center; color: var(--muted); background: rgba(0,0,0,0.1);">
                            <i class="fas fa-shield-alt" style="font-size: 4rem; opacity: 0.15; margin-bottom: 1.5rem;"></i>
                            <p style="font-size: 1.25rem; font-weight: 600; opacity: 0.5;">No Badges Detected in Wallet</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- ROADMAP -->
        <section id="roadmap" class="container" style="padding: 10rem 0; border-top: 1px solid var(--border);">
            <div class="section-header">
                <div>
                    <h2 class="neon-text" style="font-size: 4rem; line-height: 1;">Roadmap</h2>
                    <p style="color: var(--muted); margin-top: 1rem; font-size: 1.25rem; font-weight: 500;">Our journey to dominate the Ronin prediction meta.</p>
                </div>
            </div>
            <div class="roadmap-grid">
                <div class="roadmap-phase">
                    <div class="phase-number">Q1</div>
                    <div class="phase-status phase-live neon-text">Phase 1 – Genesis</div>
                    <h3 style="margin-bottom: 1rem;">Launch & Demo</h3>
                    <p style="color: var(--muted); line-height: 1.6;">
                        • Stunning frontend live<br>
                        • Mock predictions & wallet connect<br>
                        • Community building on Discord & X<br>
                        • First badge designs & hype
                    </p>
                </div>
                <div class="roadmap-phase">
                    <div class="phase-number">Q2</div>
                    <div class="phase-status phase-upcoming">Phase 2 – On-Chain</div>
                    <h3 style="margin-bottom: 1rem;">Mainnet Deployment</h3>
                    <p style="color: var(--muted); line-height: 1.6;">
                        • Secure smart contract deployment<br>
                        • Real RON betting live<br>
                        • Mintable NFT badges<br>
                        • Community governance start
                    </p>
                </div>
                <div class="roadmap-phase">
                    <div class="phase-number">Q3</div>
                    <div class="phase-status phase-upcoming">Phase 3 – Expansion</div>
                    <h3 style="margin-bottom: 1rem;">More Games & Features</h3>
                    <p style="color: var(--muted); line-height: 1.6;">
                        • Add Pixels, Axie, Ronin Racing events<br>
                        • Tournaments & special bets<br>
                        • Advanced badge tiers<br>
                        • Partnerships & integrations
                    </p>
                </div>
                <div class="roadmap-phase">
                    <div class="phase-number">Q4+</div>
                    <div class="phase-status phase-upcoming">Phase 4 – Domination</div>
                    <h3 style="margin-bottom: 1rem;">The Future</h3>
                    <p style="color: var(--muted); line-height: 1.6;">
                        • Cross-chain support<br>
                        • Mobile app<br>
                        • Full DAO governance<br>
                        • Become Ronin’s #1 prediction hub
                    </p>
                </div>
            </div>
        </section>
    </main>
    <footer style="padding: 100px 0; border-top: 1px solid var(--border); background: #010409; position: relative; z-index: 1;">
        <div class="container" style="display: flex; flex-direction: column; align-items: center; text-align: center;">
            <div class="logo" style="margin-bottom: 2.5rem;">
                <div class="logo-box"><i class="fas fa-trophy" style="color: var(--primary);"></i></div>
                <div class="logo-text" style="text-align: left;">
                    <span class="logo-title neon-text">RONIN</span>
                    <span class="logo-subtitle">Predictor</span>
                </div>
            </div>
            <p style="color: var(--muted); font-size: 1.1rem; max-width: 600px; margin-bottom: 3rem; line-height: 1.6;">Build your legacy on the Ronin Network. The ultimate destination for Web3 gaming fantasy sports.</p>
            <div style="display: flex; gap: 3rem; margin-bottom: 4rem;">
                <a href="#" style="color: var(--muted); font-size: 1.5rem; transition: 0.3s;"><i class="fab fa-twitter"></i></a>
                <a href="#" style="color: var(--muted); font-size: 1.5rem; transition: 0.3s;"><i class="fab fa-discord"></i></a>
                <a href="#" style="color: var(--muted); font-size: 1.5rem; transition: 0.3s;"><i class="fab fa-github"></i></a>
            </div>
            <div style="font-size: 0.8rem; font-weight: 800; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5em; opacity: 0.5;">
                © 2026 Ronin Fantasy Predictor • All Rights Reserved
            </div>
        </div>
    </footer>
    <div id="notif"></div>
    <script>
        let address = null;
        let userPoints = 500; // Demo starting points
        let predictions = {}; // Store user's predictions locally
        // Demo matches data (hardcoded)
        const demoMatches = [
            {
                id: 1,
                title: "Pixels Daily Quest Showdown",
                description: "Who will complete the daily quest faster today? Team A (Speed Runners) vs Team B (Strategy Masters)",
                teamA: "Speed Runners",
                teamB: "Strategy Masters",
                status: "live",
                startTime: new Date()
            },
            {
                id: 2,
                title: "Axie Infinity Arena Battle",
                description: "Epic clash between top Axie teams. Predict the winner of this ranked tournament match.",
                teamA: "Axie Legends",
                teamB: "Ronin Rebels",
                status: "upcoming",
                startTime: new Date(Date.now() + 3600000) // 1 hour later
            },
            {
                id: 3,
                title: "Ronin Racing Championship",
                description: "High-speed race across the Ronin track. Who will take the checkered flag?",
                teamA: "Thunder Riders",
                teamB: "Shadow Racers",
                status: "upcoming",
                startTime: new Date(Date.now() + 7200000) // 2 hours later
            },
            {
                id: 4,
                title: "Fantasy Duel Night",
                description: "Nighttime duels with special power-ups. Predict the ultimate survivor.",
                teamA: "Moon Knights",
                teamB: "Star Guardians",
                status: "live",
                startTime: new Date()
            }
        ];
        let provider;
        let signer;
        let contract;
        let is_admin = false;
        const contractAddress = "0xf8Bf45a1EFFbb3928fB3224BD3D0c655c93699F4";
        const abi = [
            "event PredictionCreated(uint256 indexed id, string description, uint256 endTime, uint8 numOptions)",
            "event BetPlaced(uint256 indexed predictionId, address indexed user, uint8 option, uint256 amount)",
            "event PredictionResolved(uint256 indexed id, uint8 outcome)",
            "event WinningsClaimed(uint256 indexed predictionId, address indexed user, uint256 amount)",
            "event FeesWithdrawn(address indexed owner, uint256 amount)",
            "event EmergencyStopped(bool stopped)",
            "function createPrediction(string memory _description, uint256 _endTime, uint8 _numOptions)",
            "function resolvePrediction(uint256 predictionId, uint8 winningOption)",
            "function withdrawFees()",
            "function emergencyStop(bool _stopped)",
            "function emergencyWithdraw()",
            "function placeBet(uint256 predictionId, uint8 option) payable",
            "function claimWinnings(uint256 predictionId)",
            "function getNumOptions(uint256 predictionId) view returns (uint256)",
            "function getAllPredictionIds() view returns (uint256[] memory)",
            "function getPrediction(uint256 predictionId) view returns (string memory, uint256, uint256, uint8, bool, uint256, uint256[] memory)",
            "function owner() view returns (address)",
            "function accumulatedFees() view returns (uint256)",
            "function emergencyStopped() view returns (bool)",
            "function userBets(uint256, address) view returns (uint256 amount, uint8 option)",
            "function nextPredictionId() view returns (uint256)",
            "function predictions(uint256) view returns (string memory description, uint256 endTime, uint256 resolveTime, uint8 outcome, bool resolved, uint256[] optionPools, uint256 totalPool)"
        ];
        function toast(msg, type='success') {
            const n = document.getElementById('notif');
            n.innerText = msg;
            n.className = `show ${type}`;
            setTimeout(() => n.className = '', 5000);
        }
        async function connect() {
            try {
                let ethereumProvider;
                if (window.ronin && window.ronin.provider) {
                    ethereumProvider = window.ronin.provider;
                    await ethereumProvider.request({method: 'eth_requestAccounts'});
                    toast("Ronin Wallet Connected");
                } else if (window.ethereum) {
                    ethereumProvider = window.ethereum;
                    await ethereumProvider.request({method: 'eth_requestAccounts'});
                } else {
                    return toast("No wallet detected", "error");
                }
                provider = new ethers.providers.Web3Provider(ethereumProvider);
                signer = provider.getSigner();
                address = await signer.getAddress();
                const network = await provider.getNetwork();
                if (network.chainId !== 2021) {
                    try {
                        await ethereumProvider.request({
                            method: 'wallet_switchEthereumChain',
                            params: [{ chainId: '0x7e5' }],
                        });
                    } catch (switchError) {
                        if (switchError.code === 4902) {
                            await ethereumProvider.request({
                                method: 'wallet_addEthereumChain',
                                params: [{
                                    chainId: '0x7e5',
                                    chainName: 'Ronin Saigon Testnet',
                                    rpcUrls: ['https://saigon-testnet.roninchain.com/rpc'],
                                    nativeCurrency: { name: 'RON', symbol: 'RON', decimals: 18 },
                                    blockExplorerUrls: ['https://saigon-explorer.roninchain.com/']
                                }],
                            });
                        } else {
                            throw switchError;
                        }
                    }
                }
                contract = new ethers.Contract(contractAddress, abi, signer);
                const balance = await provider.getBalance(address);
                userPoints = parseFloat(ethers.utils.formatEther(balance));
                updateWalletUI();
                updatePointsDisplay();
                is_admin = (await contract.owner()).toLowerCase() === address.toLowerCase();
                if (is_admin) {
                    const numOptions = 2;
                    for (let m of demoMatches) {
                        try {
                            const pred = await contract.getPrediction(m.id);
                            if (pred.endTime.toNumber() === 0) {
                                const endTime = Math.floor(Date.now() / 1000) + 86400;
                                const desc = `${m.title} - ${m.description} - TeamA:${m.teamA} - TeamB:${m.teamB}`;
                                const tx = await contract.createPrediction(desc, endTime, numOptions);
                                await tx.wait();
                            }
                        } catch {}
                    }
                }
                await loadMatches();
            } catch (e) {
                toast(e.message, "error");
            }
        }
        function updateWalletUI() {
            if (!address) return;
            document.getElementById('wallet-section').innerHTML = `
                <div style="display: flex; align-items: center; gap: 1.5rem;">
                    <div style="text-align: right; line-height: 1.1;">
                        <div style="font-size: 0.75rem; font-weight: 900; color: var(--primary); letter-spacing: 0.1em;">RON</div>
                        <div id="user-points" style="font-weight: 900; color: white; font-size: 1.5rem; font-family: 'Orbitron', sans-serif;">${userPoints.toFixed(3)}</div>
                    </div>
                    <div class="wallet-pill" onclick="disconnect()">
                        <div class="wallet-status"></div>
                        ${address.slice(0,6).toUpperCase()}...${address.slice(-4).toUpperCase()}
                    </div>
                </div>
            `;
        }
        function disconnect() {
            address = null;
            location.reload();
        }
        function updatePointsDisplay() {
            const el = document.getElementById('user-points');
            if (el) el.innerText = userPoints.toFixed(3);
        }
        async function loadMatches() {
            const container = document.getElementById('matches-container');
            let html = '';
            for (let m of demoMatches) {
                let pred = { endTime: ethers.BigNumber.from(0), resolved: false, outcome: 0 };
                let userBetOption = null;
                let resolved = false;
                let outcome = 0;
                let isLive = m.status === 'live';
                let bettingOpen = false;
                predictions[m.id] = null;
                if (contract && address) {
                    try {
                        pred = await contract.getPrediction(m.id);
                        if (pred.endTime.toNumber() > 0) {
                            resolved = pred.resolved;
                            outcome = pred.outcome;
                            const now = Math.floor(Date.now() / 1000);
                            bettingOpen = now < pred.endTime.toNumber() && !resolved;
                            const ub = await contract.userBets(m.id, address);
                            if (ub.amount.gt(0)) {
                                userBetOption = ub.option;
                                predictions[m.id] = ub.option === 0 ? m.teamA : m.teamB;
                            }
                        }
                    } catch (e) {}
                }
                const statusText = m.status === 'live' ? '<i class="fas fa-bolt"></i> Live' : '<i class="far fa-clock"></i> ' + new Date(m.startTime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                const badgeClass = m.status === 'live' ? 'badge-live' : 'badge-upcoming';
                html += `
                    <div class="cyber-card">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1.5rem;">
                            <div class="match-badge ${badgeClass}">
                                ${statusText}
                            </div>
                            <div style="font-family: monospace; font-size: 0.7rem; opacity: 0.3;">ID: ${m.id}</div>
                        </div>
                        <h3 style="font-size: 1.5rem; margin-bottom: 0.75rem;">${m.title}</h3>
                        <p style="font-size: 1rem; color: var(--muted); margin-bottom: 2rem; line-height: 1.4; height: 2.8rem; overflow: hidden;">${m.description}</p>
                      
                        <div class="vs-container">
                            <div class="team-box ${predictions[m.id] === m.teamA ? 'selected' : ''}" onclick="selectTeam(${m.id}, '${m.teamA}')">
                                <div class="team-name">${m.teamA}</div>
                            </div>
                            <div class="vs-text">VS</div>
                            <div class="team-box ${predictions[m.id] === m.teamB ? 'selected' : ''}" onclick="selectTeam(${m.id}, '${m.teamB}')">
                                <div class="team-name">${m.teamB}</div>
                            </div>
                        </div>
                      
                        <div style="margin-top: auto;">
                            ${resolved ?
                                (predictions[m.id] ?
                                    ((userBetOption === outcome) ?
                                        '<button onclick="claim(' + m.id + ')" class="cyber-button" style="width:100%; font-size:0.8rem; background: #22c55e;">Claim Winnings</button>'
                                        : '<div style="text-align:center; color:#ef4444; font-weight:800;">Lost: ' + predictions[m.id] + '</div>')
                                    : '<div style="text-align:center; color: var(--muted); font-weight:800;">Resolved</div>'
                                )
                                : (predictions[m.id] ?
                                    '<div style="text-align:center; color:#22c55e; font-weight:800;">Locked: ' + predictions[m.id] + '</div>' :
                                    (bettingOpen ? 
                                        `<input type="number" id="bet-amount-${m.id}" value="0.01" min="0.01" step="0.01" style="width:100%; margin-bottom:1rem; background:var(--card); border:1px solid var(--border); color:var(--foreground); padding:0.5rem; border-radius:4px;">
                                        <button onclick="predict(${m.id})" class="cyber-button" style="width:100%; font-size:0.8rem;">Secure Prediction</button>`
                                        : '<div style="text-align:center; color:#ef4444; font-weight:800;">Betting Closed</div>')
                                )
                            }
                        </div>
                        ${is_admin && !resolved && !bettingOpen ? `
                            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                                <button onclick="resolve(${m.id}, 0)" class="cyber-button" style="flex:1; background: #eab308;">Resolve to ${m.teamA}</button>
                                <button onclick="resolve(${m.id}, 1)" class="cyber-button" style="flex:1; background: #c2410c;">Resolve to ${m.teamB}</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            container.innerHTML = html;
        }
        const selections = {};
        window.selectTeam = (id, team) => {
            document.querySelectorAll(`[onclick^="selectTeam(${id}"]`).forEach(el => el.classList.remove('selected'));
            event.target.closest('.team-box').classList.add('selected');
            selections[id] = team;
        };
        window.predict = async (id) => {
            if (!address) return toast("Connect Wallet First", "error");
            if (!selections[id]) return toast("Select a team first!", "error");
            const amountInput = document.getElementById(`bet-amount-${id}`);
            const amount = parseFloat(amountInput.value);
            if (amount <= 0 || isNaN(amount)) return toast("Invalid bet amount", "error");
            const m = demoMatches.find(match => match.id === id);
            const option = selections[id] === m.teamA ? 0 : 1;
            const betAmount = ethers.utils.parseEther(amount.toString());
            try {
                const tx = await contract.placeBet(id, option, {value: betAmount});
                await tx.wait();
                predictions[id] = selections[id];
                const balance = await provider.getBalance(address);
                userPoints = parseFloat(ethers.utils.formatEther(balance));
                updatePointsDisplay();
                await loadMatches();
                toast(`Prediction Locked on ${selections[id]}! (-${amount} RON)`, "success");
            } catch (e) {
                toast(e.message || "Transaction failed", "error");
            }
        };
        window.claim = async (id) => {
            try {
                const tx = await contract.claimWinnings(id);
                await tx.wait();
                const balance = await provider.getBalance(address);
                userPoints = parseFloat(ethers.utils.formatEther(balance));
                updatePointsDisplay();
                await loadMatches();
                toast("Winnings Claimed!", "success");
            } catch (e) {
                toast(e.message || "Claim failed", "error");
            }
        };
        window.resolve = async (id, outcome) => {
            if (!is_admin) return;
            try {
                const tx = await contract.resolvePrediction(id, outcome);
                await tx.wait();
                await loadMatches();
                toast("Match Resolved!", "success");
            } catch (e) {
                toast(e.message || "Resolve failed", "error");
            }
        };
        window.mint = async (tier) => {
            if (!address) return toast("Connect Wallet First", "error");
            const cost = tier === 'Gold' ? 0.1 : 0;
            if (userPoints < cost) return toast("Not enough RON!", "error");
            try {
                if (cost > 0) {
                    const tx = await signer.sendTransaction({
                        to: await contract.owner(),
                        value: ethers.utils.parseEther(cost.toString())
                    });
                    await tx.wait();
                }
                const balance = await provider.getBalance(address);
                userPoints = parseFloat(ethers.utils.formatEther(balance));
                updatePointsDisplay();
                toast(`${tier} Badge Minted!`, "success");
            } catch (e) {
                toast(e.message || "Mint failed", "error");
            }
        };
        // --- INIT ---
        loadMatches();
    </script>
</body>
</html>
